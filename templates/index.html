<html>

<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <title>
        SHORTY
    </title>
    <script>
        function copy(id) {
            that = document.getElementById(id);
            var inp = document.createElement('input');
            document.body.appendChild(inp)
            inp.value = that.textContent
            inp.select();
            document.execCommand('copy', false);
            inp.remove();
        }
    </script>
</head>

<body>
    <div class=" flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">
        <h5 class="my-0 mr-md-auto font-weight-normal">SHORTY</h5>
        <nav class="d-flex justify-content-end my-2 my-md-0 mr-md-3">
            <a class="p-2 text-dark" href="{% url 'analysis' %}">Analysis</a>
            <a class="btn btn-outline-info" href="#">Sign in</a>&ensp;
            <a class="btn btn-outline-primary" href="#">Sign up</a>
        </nav>
    </div>
    <div class="container">
        <div class="card-deck mb-3 text-center">
            <div class="card mb-4 shadow-sm">
                <div class="card-header">
                    <h4 class="my-0 font-weight-normal">Shorten your url</h4>
                </div>
                <div class="card-body">

                    <form method='post' action="{% url 'shorten' %}" class="card p-2">
                        {% csrf_token %}
                        <div class="input-group">
                            {{form.long_url}}
                            <div class="input-group-append">
                                <button type="submit" class="btn btn-secondary">Shorten</button>
                            </div>
                        </div>
                    </form>
                    {% if short_url%}
                    <div class="list-group">
                        <button type="button" class="list-group-item list-group-item-action">
                            <a href="{{short_url}}" target="_blank" id="myInput">{{site}}/{{short_url}}</a>
                            &ensp;
                            <i class="fa fa-copy" onclick="copy('myInput')"
                                style="font-size:24px;color:#1C6EFd;text-shadow:2px 2px 4px lightblue;"></i>
                        </button>
                        <button type="button" class="list-group-item list-group-item-action">
                            <a href="{{long_url}}" id="my2Input" target="_blank">{{long_url}}</a>
                            &ensp;
                            <i class="fa fa-copy" onclick="copy('my2Input')"
                                style="font-size:24px;color:#1C6EFd;text-shadow:2px 2px 4px lightblue;"></i>
                        </button>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
        crossorigin="anonymous"></script>
</body>

</html>